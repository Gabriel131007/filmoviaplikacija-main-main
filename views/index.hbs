<div class="border-2 border-gray-600 rounded-lg p-4 mb-4">
  <h2 class="text-2xl font-bold text-black">Popis filmova za gledanje</h2>


  <form id="search-form" class="mt-4">
    <input
      type="text"
      id="search-input"
      class="p-2 w-full border-2 border-gray-600 rounded-lg"
      placeholder="Pretraga filmova po imenu..."
    />
  </form>
</div>

<div id="movies-list">
  {{#each items}}
    <div class="flex text-white bg-gray-700 text-xl font-bold p-4 mb-2 rounded" data-movie-name="{{name}}">
      <div class="flex-1">{{name}}</div>
      <div class="space-x-2">
        <a
          class="py-1 px-2 bg-gray-500 text-white rounded-full border-2 border-white-500 hover:bg-gray-300 hover:border-gray-700 text-sm font-normal"
          href="/rooms/usage/{{id}}"
        >
          Pregled upotrebe
        </a>
      </div>
    </div>
  {{/each}}
</div>

<script>
  document.getElementById('search-input').addEventListener('input', function(event) {
    const searchTerm = event.target.value.toLowerCase();
    const movieItems = document.querySelectorAll('#movies-list .flex');

    movieItems.forEach(function(item) {
      const movieName = item.getAttribute('data-movie-name').toLowerCase();
      if (movieName.includes(searchTerm)) {
        item.style.display = 'flex'; 
      } else {
        item.style.display = 'none'; 
      }
    });
  });
</script>
